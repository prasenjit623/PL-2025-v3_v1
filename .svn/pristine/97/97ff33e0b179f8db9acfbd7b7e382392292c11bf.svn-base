package model.AM;

import java.math.BigDecimal;

import model.AM.common.Milestones_AM;


import model.VO.MilestonesHdr_VOImpl;

import oracle.adf.share.ADFContext;

import oracle.jbo.Row;
import oracle.jbo.ViewCriteria;
import oracle.jbo.ViewCriteriaRow;
import oracle.jbo.ViewObject;
import oracle.jbo.server.ApplicationModuleImpl;
import oracle.jbo.server.ViewLinkImpl;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Thu Apr 26 11:19:21 IST 2018
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class Milestones_AMImpl extends ApplicationModuleImpl implements Milestones_AM {
    /**
     * This is the default constructor (do not remove).
     */
    public Milestones_AMImpl() {
    }

    /**
     * Container's getter for MilestonesHdr_VO1.
     * @return MilestonesHdr_VO1
     */
    public ViewObjectImpl getMilestonesHdr_VO1() {
        return (ViewObjectImpl)findViewObject("MilestonesHdr_VO1");
    }

    /**
     * Container's getter for MilestonesDtl_VO1.
     * @return MilestonesDtl_VO1
     */
    public ViewObjectImpl getMilestonesDtl_VO1() {
        return (ViewObjectImpl)findViewObject("MilestonesDtl_VO1");
    }

    /**
     * Container's getter for SearchMilestones_ROVO1.
     * @return SearchMilestones_ROVO1
     */
    public ViewObjectImpl getSearchMilestones_ROVO1() {
        return (ViewObjectImpl)findViewObject("SearchMilestones_ROVO1");
    }

    /**
     * Container's getter for Milestones_Hdr_Dtl_VL1.
     * @return Milestones_Hdr_Dtl_VL1
     */
    public ViewLinkImpl getMilestones_Hdr_Dtl_VL1() {
        return (ViewLinkImpl)findViewLink("Milestones_Hdr_Dtl_VL1");
    }
    public String onclickRevise(){
        
      Object Val = ADFContext.getCurrent().getPageFlowScope().get("MsId")==null?"":ADFContext.getCurrent().getPageFlowScope().get("MsId").toString();
        ViewObject Qvo =
            this.getMilestonesHdr_VO2().getViewObject();
        ViewCriteria vc = Qvo.createViewCriteria();
        ViewCriteriaRow vcRow = vc.createViewCriteriaRow();
        vcRow.setAttribute("MsHdrId", Val);
        vc.addRow(vcRow);
        Qvo.applyViewCriteria(vc);
        Qvo.executeQuery();
        Row rowss = Qvo.first();
     
        rowss.setAttribute("Status", "REV");
        BigDecimal val=new BigDecimal(rowss.getAttribute("Revision").toString());
        val=val.add(new BigDecimal(1));
        rowss.setAttribute("Revision", val);
        Qvo.executeQuery();
        this.getDBTransaction().commit();
        
        
        
        
    
    return null;
    }

    /**
     * Container's getter for MilestonesHdr_VO2.
     * @return MilestonesHdr_VO2
     */
    public ViewObjectImpl getMilestonesHdr_VO2() {
        return (ViewObjectImpl)findViewObject("MilestonesHdr_VO2");
    }

    /**
     * Container's getter for getFunctionCodeROVO1.
     * @return getFunctionCodeROVO1
     */
    public ViewObjectImpl getgetFunctionCodeROVO1() {
        return (ViewObjectImpl)findViewObject("getFunctionCodeROVO1");
    }


    /**
     * Container's getter for getApprovalHistoryROVo2.
     * @return getApprovalHistoryROVo2
     */
    public ViewObjectImpl getgetApprovalHistoryROVo2() {
        return (ViewObjectImpl)findViewObject("getApprovalHistoryROVo2");
    }

    /**
     * Container's getter for MilestoneApproval2.
     * @return MilestoneApproval2
     */
    public ViewLinkImpl getMilestoneApproval2() {
        return (ViewLinkImpl)findViewLink("MilestoneApproval2");
    }
}
